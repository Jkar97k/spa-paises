import{$ as ve,A as H,B as U,C as I,D as E,E as u,G as f,H as l,I as m,J as h,K as N,L as M,M as V,N as C,O as ge,P as A,Q as b,R as fe,S as W,T as Ce,U as ye,Y as he,_ as be,a as re,b as Y,ba as ee,c as ae,ca as _e,d as Z,e as le,f as ce,g as se,h as P,i as pe,j as L,k as me,l as d,m as j,n as x,o as S,p as ue,q as de,r as O,s as r,t as y,u as p,v as c,w as o,x as i,y as s,z as $}from"./chunk-B34TNNUS.js";var v=class t{constructor(n){this.http=n;this.loadLocalStorage()}apiURL="https://restcountries.com/v3.1";cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}};saveLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}loadLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(n){return this.http.get(n).pipe(Z(e=>Y([])),ce(2e3))}searchCountryByAlphaCode(n){return this.http.get(`${this.apiURL}/alpha/${n}`).pipe(ae(e=>e.length>0?e[0]:null),Z(e=>Y(null)))}searchByCapital(n){let e=`${this.apiURL}/capital/${n}`;return this.getCountriesRequest(e).pipe(P(a=>this.cacheStore.byCapital={term:n,countries:a}),P(()=>this.saveLocalStorage()))}searchCountry(n){let e=`${this.apiURL}/name/${n}`;return this.getCountriesRequest(e).pipe(P(a=>this.cacheStore.byCountries={term:n,countries:a}),P(()=>this.saveLocalStorage()))}searchRegion(n){let e=`${this.apiURL}/region/${n}`;return this.getCountriesRequest(e).pipe(P(a=>this.cacheStore.byRegion={region:n,countries:a}),P(()=>this.saveLocalStorage()))}static \u0275fac=function(e){return new(e||t)(me(ye))};static \u0275prov=pe({token:t,factory:t.\u0275fac,providedIn:"root"})};var D=class t{deboncer=new re;deboncerSuscription;placeholder="";inicialValue="";onValue=new de;constructor(){}ngOnInit(){this.deboncerSuscription=this.deboncer.pipe(le(500)).subscribe(n=>{this.emitValue(n)})}ngOnDestroy(){this.deboncerSuscription?.unsubscribe()}emitValue(n){this.onValue.emit(n)}onKeypress(n){this.deboncer.next(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["shared-searchBox"]],inputs:{placeholder:"placeholder",inicialValue:"inicialValue"},outputs:{onValue:"onValue"},decls:2,vars:2,consts:[["txtInput",""],["type","text",1,"form-control",3,"keyup","placeholder","value"]],template:function(e,a){if(e&1){let g=I();o(0,"input",1,0),E("keyup",function(){x(g);let F=f(1);return S(a.onKeypress(F.value))}),i()}e&2&&c("placeholder",a.placeholder)("value",a.inicialValue)}})};var te=t=>["/countries/by",t];function Ee(t,n){if(t&1&&(o(0,"th"),l(1),i()),t&2){let e=n.$implicit;r(),m(e)}}function Te(t,n){t&1&&U(0)}function Be(t,n){if(t&1&&($(0),p(1,Te,1,0,"ng-container",7),H()),t&2){u();let e=f(9);r(),c("ngTemplateOutlet",e)}}function Re(t,n){t&1&&U(0)}function Pe(t,n){if(t&1&&($(0),p(1,Re,1,0,"ng-container",7),H()),t&2){u();let e=f(11);r(),c("ngTemplateOutlet",e)}}function we(t,n){t&1&&U(0)}function Oe(t,n){if(t&1&&($(0),p(1,we,1,0,"ng-container",7),H()),t&2){u();let e=f(13);r(),c("ngTemplateOutlet",e)}}function Ne(t,n){if(t&1&&(o(0,"tr")(1,"td"),l(2),i(),o(3,"td"),l(4),i(),o(5,"td"),s(6,"img",8),i(),o(7,"td"),l(8),i(),o(9,"td"),l(10),i(),o(11,"td"),l(12),M(13,"number"),i(),o(14,"td")(15,"a",9),l(16,"ver mas"),i()()()),t&2){let e=n.$implicit,a=n.index;r(2),m(a+1),r(2),h(" ",e.flag," "),r(2),c("src",e.flags.svg,O)("alt",e.name.common),r(2),m(e.name.common),r(2),m(e.capital),r(2),m(V(13,8,e.population)),r(3),c("routerLink",N(10,te,e.cca3))}}function Me(t,n){if(t&1&&p(0,Ne,17,12,"tr",5),t&2){let e=u();c("ngForOf",e.capitals)}}function Ve(t,n){if(t&1&&(o(0,"tr")(1,"td"),l(2),i(),o(3,"td"),l(4),i(),o(5,"td"),s(6,"img",8),i(),o(7,"td"),l(8),i(),o(9,"td"),l(10),i(),o(11,"td"),l(12),M(13,"number"),i(),o(14,"td")(15,"a",9),l(16,"ver mas"),i()()()),t&2){let e=n.$implicit,a=n.index;r(2),m(a+1),r(2),h(" ",e.flag," "),r(2),c("src",e.flags.svg,O)("alt",e.name.common),r(2),m(e.name.common),r(2),m(e.capital),r(2),m(V(13,8,e.population)),r(3),c("routerLink",N(10,te,e.cca3))}}function De(t,n){if(t&1&&p(0,Ve,17,12,"tr",5),t&2){let e=u();c("ngForOf",e.countries)}}function Fe(t,n){if(t&1&&(o(0,"tr")(1,"td"),l(2),i(),o(3,"td"),s(4,"img",8),i(),o(5,"td"),l(6),i(),o(7,"td"),l(8),i(),o(9,"td"),l(10),M(11,"number"),i(),o(12,"td")(13,"a",9),l(14,"ver mas"),i()()()),t&2){let e=n.$implicit,a=n.index;r(2),m(a+1),r(2),c("src",e.flags.svg,O)("alt",e.name.common),r(2),m(e.name.common),r(2),m(e.capital),r(2),m(V(11,7,e.population)),r(3),c("routerLink",N(9,te,e.cca3))}}function ke(t,n){if(t&1&&p(0,Fe,15,11,"tr",5),t&2){let e=u();c("ngForOf",e.region)}}var T=class t{header=[];capitals=[];countries=[];region=[];static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["shared-table"]],inputs:{header:"header",capitals:"capitals",countries:"countries",region:"region"},decls:14,vars:4,consts:[["capitalsTemplate",""],["countryTemplate",""],["regionTemplate",""],[1,"table","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"src","alt"],[3,"routerLink"]],template:function(e,a){e&1&&(o(0,"table",3)(1,"thead")(2,"tr",4),p(3,Ee,2,1,"th",5),i()(),o(4,"tbody"),p(5,Be,2,1,"ng-container",6)(6,Pe,2,1,"ng-container",6)(7,Oe,2,1,"ng-container",6),i()(),p(8,Me,1,1,"ng-template",null,0,C)(10,De,1,1,"ng-template",null,1,C)(12,ke,1,1,"ng-template",null,2,C)),e&2&&(r(3),c("ngForOf",a.header),r(2),c("ngIf",a.capitals.length>0),r(),c("ngIf",a.countries.length>0),r(),c("ngIf",a.region.length>0))},dependencies:[A,b,fe,ve,W],styles:["img[_ngcontent-%COMP%]{width:35px}"]})};var B=class t{message="";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["shared-warning"]],inputs:{message:"message"},decls:2,vars:1,consts:[["role","alert",1,"alert","alert-warning","text-center"]],template:function(e,a){e&1&&(o(0,"div",0),l(1),i()),e&2&&(r(),h(" ",a.message,`
`))}})};var R=class t{constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=d({type:t,selectors:[["shared-loader"]],decls:15,vars:0,consts:[[1,"spinner-container","bg-dark"],["width","45","height","45","viewBox","0 0 45 45","xmlns","http://www.w3.org/2000/svg","stroke","#fff"],["fill","none","fill-rule","evenodd","transform","translate(1 1)","stroke-width","2"],["cx","22","cy","22","r","6","stroke-opacity","0"],["attributeName","r","begin","1.5s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","1.5s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","1.5s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["attributeName","r","begin","3s","dur","3s","values","6;22","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-opacity","begin","3s","dur","3s","values","1;0","calcMode","linear","repeatCount","indefinite"],["attributeName","stroke-width","begin","3s","dur","3s","values","2;0","calcMode","linear","repeatCount","indefinite"],["cx","22","cy","22","r","8"],["attributeName","r","begin","0s","dur","1.5s","values","6;1;2;3;4;5;6","calcMode","linear","repeatCount","indefinite"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"span"),l(2,"buscanding"),i(),ue(),o(3,"svg",1)(4,"g",2)(5,"circle",3),s(6,"animate",4)(7,"animate",5)(8,"animate",6),i(),o(9,"circle",3),s(10,"animate",7)(11,"animate",8)(12,"animate",9),i(),o(13,"circle",10),s(14,"animate",11),i()()()())},styles:[".spinner-container[_ngcontent-%COMP%]{align-items:center;background-color:#000;border-radius:20px;bottom:20px;color:#fff;display:flex;padding:5px 10px;position:fixed;right:20px}"]})};function Le(t,n){t&1&&s(0,"shared-loader")}function je(t,n){t&1&&s(0,"shared-warning",6),t&2&&c("message","No se Ha Encontrado Capital")}function $e(t,n){if(t&1&&s(0,"shared-table",7),t&2){let e=u();c("header",e.tableHeader)("capitals",e.capitals)}}var J=class t{constructor(n){this.countriesService=n}capitals=[];tableHeader=["#","Icon","Bandera","Nombre","Capital","Poblacion","..."];isload=!1;initialTerm="";ngOnInit(){this.capitals=this.countriesService.cacheStore.byCapital.countries,this.initialTerm=this.countriesService.cacheStore.byCapital.term}title="buscar por capital";searchByCapital(n){this.isload=!0,this.countriesService.searchByCapital(n).subscribe(e=>{this.capitals=e,this.isload=!1})}static \u0275fac=function(e){return new(e||t)(y(v))};static \u0275cmp=d({type:t,selectors:[["app-by-capital-page"]],decls:13,vars:5,consts:[["tabla",""],[1,"row"],[1,"col"],[3,"onValue","placeholder","inicialValue"],[4,"ngIf"],[3,"message",4,"ngIf","ngIfElse"],[3,"message"],[3,"header","capitals"]],template:function(e,a){if(e&1){let g=I();o(0,"h2"),l(1,"Por Capital"),i(),s(2,"hr"),o(3,"div",1)(4,"div",2)(5,"shared-searchBox",3),E("onValue",function(F){return x(g),S(a.searchByCapital(F))}),i()()(),o(6,"div",1)(7,"div",2),s(8,"hr"),p(9,Le,1,0,"shared-loader",4)(10,je,1,1,"shared-warning",5),i()(),p(11,$e,1,2,"ng-template",null,0,C)}if(e&2){let g=f(12);r(5),c("placeholder",a.title)("inicialValue",a.initialTerm),r(4),c("ngIf",a.isload),r(),c("ngIf",a.capitals.length===0)("ngIfElse",g)}},dependencies:[b,D,T,B,R]})};function He(t,n){t&1&&(o(0,"div",2),l(1," Espere profavor "),i())}function Ue(t,n){if(t&1&&(o(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),l(4,"Pais: "),o(5,"strong"),l(6),i()()()(),o(7,"div",3)(8,"div",5)(9,"h3"),l(10,"Bandera:"),i(),s(11,"img",6),i(),o(12,"div",7)(13,"h3"),l(14,"Informacion"),i(),o(15,"ul",8)(16,"li",9)(17,"strong"),l(18,"Poblacion:"),i(),l(19),M(20,"number"),i(),o(21,"li",9)(22,"strong"),l(23,"Codigo:"),i(),l(24),i(),s(25,"li",9),i()()(),o(26,"div",10)(27,"div",7)(28,"h3"),l(29,"Traducciones"),i(),o(30,"div",11)(31,"span",12),l(32),i(),o(33,"span",12),l(34),i(),o(35,"span",12),l(36),i(),o(37,"span",12),l(38),i()()()()()),t&2){let e=u();r(6),m(e.country.name.common),r(5),c("src",e.country.flags.svg,O)("alt",e.country.name.common),r(8),h("",V(20,9,e.country.population)," "),r(5),h("",e.country.cca3," "),r(8),m(e.country.translations.ara.common),r(2),m(e.country.translations.cym.common),r(2),m(e.country.translations.fin.common),r(2),m(e.country.translations.jpn.common)}}var K=class t{constructor(n,e,a){this.activatedRoute=n;this.countrieService=e;this.router=a}country;ngOnInit(){this.activatedRoute.params.pipe(se(({id:n})=>this.countrieService.searchCountryByAlphaCode(n))).subscribe(n=>n?this.country=n:this.router.navigateByUrl(""))}static \u0275fac=function(e){return new(e||t)(y(he),y(v),y(be))};static \u0275cmp=d({type:t,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["alerta1",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],["ngf","",1,"badge","bg-primary","m-1"]],template:function(e,a){if(e&1&&p(0,He,2,0,"ng-template",null,0,C)(2,Ue,39,11,"div",1),e&2){let g=f(1);r(2),c("ngIf",a.country)("ngIfElse",g)}},dependencies:[b,W]})};function Ae(t,n){t&1&&s(0,"shared-loader")}function We(t,n){t&1&&s(0,"shared-warning",6),t&2&&c("message","No se Ha Encontrado Pais")}function ze(t,n){if(t&1&&s(0,"shared-table",7),t&2){let e=u();c("header",e.tableHeader)("countries",e.countries)}}var G=class t{constructor(n){this.countriesService=n}countries=[];tableHeader=["#","Icon","Bandera","Nombre","Capital","Poblacion","..."];isload=!1;initialTerm="";ngOnInit(){this.countries=this.countriesService.cacheStore.byCountries.countries,this.initialTerm=this.countriesService.cacheStore.byCountries.term}title="Buscar por Pais";searchByCountry(n){this.isload=!0,this.countriesService.searchCountry(n).subscribe(e=>{this.countries=e,this.isload=!1})}static \u0275fac=function(e){return new(e||t)(y(v))};static \u0275cmp=d({type:t,selectors:[["app-by-country-page"]],decls:13,vars:5,consts:[["tabla",""],[1,"row"],[1,"col"],[3,"onValue","placeholder","inicialValue"],[4,"ngIf"],[3,"message",4,"ngIf","ngIfElse"],[3,"message"],[3,"header","countries"]],template:function(e,a){if(e&1){let g=I();o(0,"h2"),l(1,"Por Pais"),i(),s(2,"hr"),o(3,"div",1)(4,"div",2)(5,"shared-searchBox",3),E("onValue",function(F){return x(g),S(a.searchByCountry(F))}),i()()(),o(6,"div",1)(7,"div",2),s(8,"hr"),p(9,Ae,1,0,"shared-loader",4)(10,We,1,1,"shared-warning",5),i()(),p(11,ze,1,2,"ng-template",null,0,C)}if(e&2){let g=f(12);r(5),c("placeholder",a.title)("inicialValue",a.initialTerm),r(4),c("ngIf",a.isload),r(),c("ngIf",a.countries.length===0)("ngIfElse",g)}},dependencies:[b,D,T,B,R]})};var qe=t=>({"btn-success":t});function Je(t,n){if(t&1){let e=I();o(0,"button",6),E("click",function(){let g=x(e).$implicit,k=u();return S(k.searchRegion(g))}),l(1),i()}if(t&2){let e=n.$implicit,a=u();c("ngClass",N(2,qe,a.selectedRegion===e)),r(),h(" ",e," ")}}function Ke(t,n){t&1&&s(0,"shared-loader")}function Ge(t,n){t&1&&s(0,"shared-warning",7),t&2&&c("message","No se Ha Encontrado Region")}function Qe(t,n){if(t&1&&s(0,"shared-table",8),t&2){let e=u();c("header",e.tableHeader)("region",e.regions)}}var Q=class t{constructor(n){this.countriesService=n}regions=[];tableHeader=["#","Bandera","Nombre","Capital","Poblacion","..."];isload=!1;list=["Africa","Americas","Asia","Europe","Oceania"];selectedRegion;ngOnInit(){this.regions=this.countriesService.cacheStore.byRegion.countries,this.selectedRegion=this.countriesService.cacheStore.byRegion.region}title="buscar por Region";searchRegion(n){this.selectedRegion=n,this.isload=!0,this.countriesService.searchRegion(n).subscribe(e=>{this.regions=e,this.isload=!1})}static \u0275fac=function(e){return new(e||t)(y(v))};static \u0275cmp=d({type:t,selectors:[["app-by-region-page"]],decls:13,vars:4,consts:[["tabla",""],[1,"row"],[1,"col"],["class","btn btn-outline-success mx-1",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"message",4,"ngIf","ngIfElse"],[1,"btn","btn-outline-success","mx-1",3,"click","ngClass"],[3,"message"],[3,"header","region"]],template:function(e,a){if(e&1&&(o(0,"h2"),l(1,"Por Region"),i(),s(2,"hr"),o(3,"div",1)(4,"div",2),p(5,Je,2,4,"button",3),i()(),o(6,"div",1)(7,"div",2),s(8,"hr"),p(9,Ke,1,0,"shared-loader",4)(10,Ge,1,1,"shared-warning",5),i()(),p(11,Qe,1,2,"ng-template",null,0,C)),e&2){let g=f(12);r(5),c("ngForOf",a.list),r(4),c("ngIf",a.isload),r(),c("ngIf",a.regions.length===0)("ngIfElse",g)}},dependencies:[ge,A,b,T,B,R],styles:[".btn-success[_ngcontent-%COMP%]{color:azure}"]})};var Xe=[{path:"by-capital",component:J},{path:"by-country",component:G},{path:"by-region",component:Q},{path:"by/:id",component:K},{path:"**",redirectTo:"by-capital"}],X=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=j({type:t});static \u0275inj=L({imports:[ee.forChild(Xe),ee]})};var Se=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=j({type:t});static \u0275inj=L({imports:[Ce,X,_e]})};export{Se as CountriesModule};
